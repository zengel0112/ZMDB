{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macbook/Documents/GitHub/ZMDB/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macbook/Documents/GitHub/ZMDB/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macbook/Documents/GitHub/ZMDB/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Movie from\"./Movie\";import DefaultList from\"./DefaultList\";import\"../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchBar=function SearchBar(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];function searchMovie(_x){return _searchMovie.apply(this,arguments);}function _searchMovie(){_searchMovie=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(query){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"https://api.themoviedb.org/3/search/movie?api_key=f43ec82a5f24fe6190891894b7436c7a&query=\".concat(query));case 3:response=_context.sent;if(!response.ok){_context.next=12;break;}_context.next=7;return response.json();case 7:data=_context.sent;setMovies(data.results);setError(\"\");_context.next=14;break;case 12:setError(\"An error occurred while fetching movies.\");setMovies([]);case 14:_context.next=20;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);setError(\"An error occurred while fetching movies.\");setMovies([]);case 20:case\"end\":return _context.stop();}},_callee,null,[[0,16]]);}));return _searchMovie.apply(this,arguments);}function handleSearch(e){var query=e.target.value;setSearchQuery(query);if(query.trim()!==\"\"){searchMovie(query);}else{setMovies([]);setError(\"\");}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{action:\"\",className:\"form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"ZengelMDB 1.0v\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search\",onChange:handleSearch,value:searchQuery,className:\"search-input\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),searchQuery?/*#__PURE__*/_jsx(Movie,{movies:movies}):/*#__PURE__*/_jsx(DefaultList,{})]});};export default SearchBar;","map":{"version":3,"names":["React","useState","Movie","DefaultList","jsx","_jsx","jsxs","_jsxs","SearchBar","_useState","_useState2","_slicedToArray","searchQuery","setSearchQuery","_useState3","_useState4","movies","setMovies","_useState5","_useState6","error","setError","searchMovie","_x","_searchMovie","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","query","response","data","wrap","_callee$","_context","prev","next","fetch","concat","sent","ok","json","results","t0","stop","handleSearch","e","target","value","trim","children","action","className","type","placeholder","onChange"],"sources":["/Users/macbook/Documents/GitHub/ZMDB/src/components/SearchBar.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Movie from \"./Movie\";\nimport DefaultList from \"./DefaultList\";\nimport \"../App.css\";\n\nconst SearchBar = () => {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(\"\");\n\n  async function searchMovie(query) {\n    try {\n      const response = await fetch(\n        `https://api.themoviedb.org/3/search/movie?api_key=f43ec82a5f24fe6190891894b7436c7a&query=${query}`\n      );\n\n      if (response.ok) {\n        const data = await response.json();\n        setMovies(data.results);\n        setError(\"\");\n      } else {\n        setError(\"An error occurred while fetching movies.\");\n        setMovies([]);\n      }\n    } catch (error) {\n      setError(\"An error occurred while fetching movies.\");\n      setMovies([]);\n    }\n  }\n\n  function handleSearch(e) {\n    const query = e.target.value;\n    setSearchQuery(query);\n    if (query.trim() !== \"\") {\n      searchMovie(query);\n    } else {\n      setMovies([]);\n      setError(\"\");\n    }\n  }\n\n  return (\n    <div>\n      <form action=\"\" className=\"form\">\n        <h1>ZengelMDB 1.0v</h1>\n\n        <input\n          type=\"text\"\n          placeholder=\"Search\"\n          onChange={handleSearch}\n          value={searchQuery}\n          className=\"search-input\"\n        />\n      </form>\n      {error && <p>{error}</p>}\n\n      {searchQuery ? <Movie movies={movies} /> : <DefaultList />}\n    </div>\n  );\n};\n\nexport default SearchBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}